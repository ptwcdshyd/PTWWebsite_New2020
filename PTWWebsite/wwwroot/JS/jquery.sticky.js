!function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (u) { var e = Array.prototype.slice, r = Array.prototype.splice, c = { topSpacing: 0, bottomSpacing: 0, className: "is-sticky", wrapperClassName: "sticky-wrapper", center: !1, getWidthFrom: "", widthFromWrapper: !0, responsiveWidth: !1 }, d = u(window), h = u(document), y = [], m = d.height(), t = function () { for (var t = d.scrollTop(), e = h.height(), i = e - m, r = i < t ? i - t : 0, s = 0, n = y.length; s < n; s++) { var o = y[s], c = o.stickyWrapper.offset().top - o.topSpacing - r; if (o.stickyWrapper.css("height", o.stickyElement.outerHeight()), t <= c) null !== o.currentTop && (o.stickyElement.css({ width: "", position: "", top: "" }), o.stickyElement.parent().removeClass(o.className), o.stickyElement.trigger("sticky-end", [o]), o.currentTop = null); else { var p, a = e - o.stickyElement.outerHeight() - o.topSpacing - o.bottomSpacing - t - r; if (a < 0 ? a += o.topSpacing : a = o.topSpacing, o.currentTop !== a) o.getWidthFrom ? p = u(o.getWidthFrom).width() || null : o.widthFromWrapper && (p = o.stickyWrapper.width()), null == p && (p = o.stickyElement.width()), o.stickyElement.css("width", p).css("position", "fixed").css("top", a), o.stickyElement.parent().addClass(o.className), null === o.currentTop ? o.stickyElement.trigger("sticky-start", [o]) : o.stickyElement.trigger("sticky-update", [o]), o.currentTop === o.topSpacing && o.currentTop > a || null === o.currentTop && a < o.topSpacing ? o.stickyElement.trigger("sticky-bottom-reached", [o]) : null !== o.currentTop && a === o.topSpacing && o.currentTop < a && o.stickyElement.trigger("sticky-bottom-unreached", [o]), o.currentTop = a; var l = o.stickyWrapper.parent(); o.stickyElement.offset().top + o.stickyElement.outerHeight() >= l.offset().top + l.outerHeight() && o.stickyElement.offset().top <= o.topSpacing ? o.stickyElement.css("position", "absolute").css("top", "").css("bottom", 0) : o.stickyElement.css("position", "fixed").css("top", a).css("bottom", "") } } }, i = function () { m = d.height(); for (var t = 0, e = y.length; t < e; t++) { var i = y[t], r = null; i.getWidthFrom ? i.responsiveWidth && (r = u(i.getWidthFrom).width()) : i.widthFromWrapper && (r = i.stickyWrapper.width()), null != r && i.stickyElement.css("width", r) } }, s = { init: function (t) { var o = u.extend({}, c, t); return this.each(function () { var t = u(this), e = t.attr("id"), i = t.outerHeight(), r = e ? e + "-" + c.wrapperClassName : c.wrapperClassName, s = u("<div></div>").attr("id", r).addClass(o.wrapperClassName); t.wrapAll(s); var n = t.parent(); o.center && n.css({ width: t.outerWidth(), marginLeft: "auto", marginRight: "auto" }), "right" === t.css("float") && t.css({ float: "none" }).parent().css({ float: "right" }), n.css("height", i), o.stickyElement = t, o.stickyWrapper = n, o.currentTop = null, y.push(o) }) }, update: t, unstick: function (t) { return this.each(function () { for (var t = u(this), e = -1, i = y.length; 0 < i--;)y[i].stickyElement.get(0) === this && (r.call(y, i, 1), e = i); -1 !== e && (t.unwrap(), t.css({ width: "", position: "", top: "", float: "" })) }) } }; window.addEventListener ? (window.addEventListener("scroll", t, !1), window.addEventListener("resize", i, !1)) : window.attachEvent && (window.attachEvent("onscroll", t), window.attachEvent("onresize", i)), u.fn.sticky = function (t) { return s[t] ? s[t].apply(this, e.call(arguments, 1)) : "object" != typeof t && t ? void u.error("Method " + t + " does not exist on jQuery.sticky") : s.init.apply(this, arguments) }, u.fn.unstick = function (t) { return s[t] ? s[t].apply(this, e.call(arguments, 1)) : "object" != typeof t && t ? void u.error("Method " + t + " does not exist on jQuery.sticky") : s.unstick.apply(this, arguments) }, u(function () { setTimeout(t, 0) }) });